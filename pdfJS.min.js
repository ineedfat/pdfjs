/*! pdfJS.js | https://github.com/ineedfat | 2013-01-22 | iNeedFat(https://github.com/ineedfat)*/
var PDFJS_VERSION = 0.01
var pdfJS={};(function(e){var t="1.3";pdfJS.paperFormat={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},pdfJS.doc=function(e,t){var n=this;n.objectNumber=0,n.pages=[],n.currentPage=-1,n.fonts={},n.activeFontKey=null,n.activeFontSize=16,n.fontmap={},n.documentProperties={title:"",subject:"",author:"",keywords:"",creator:""},n.docContent=[],n.contentLength=0,n.offsets=[],n.fontmap={},n.settings={dimensions:pdfJS.paperFormat.letter,lineWidth:.200025},typeof e=="string"?n.settings.dimensions=pdfJS.paperFormat[e.toLowerCase()]:typeof e=="object"&&typeof e[0]=="number"&&e[1]==="number"&&(n.settings.dimensions=e.slice().splice(0,2));if(typeof t=="string"&&t.toLowerCase()==="landscape"){var r=n.settings.dimensions[0];n.settings.dimensions[0]=n.settings.dimensions[1],n.settings.dimensions[1]=r}this.addFonts(),this.activeFontKey="F1",this.addPage()},pdfJS.doc.prototype.addPage=function(){this.currentPage++,this.pages[this.currentPage]=[],this.out(pdfJS.utils.f2(this.settings.lineWidth)+" w")},pdfJS.doc.prototype.outToContent=function(e){this.docContent.push(e),this.contentLength+=e.length+1},pdfJS.doc.prototype.out=function(e){this.outToPage(this.currentPage,e)},pdfJS.doc.prototype.outToPage=function(e,t){if(typeof e!="number")throw"Invalid Page. Expect integer";if(e>=this.pages.length)throw"Page does not exist";this.pages[this.currentPage].push(t)},pdfJS.doc.prototype.newObj=function(){return this.offsets[this.objectNumber]=this.contentLength,this.out(this.objectNumber+" 0 obj"),this.objectNumber++,this.objectNumber-1},pdfJS.doc.prototype.putStream=function(e){this.out("stream"),this.out(e),this.out("endstream")},pdfJS.doc.prototype.buildDocument=function(){this.docContent=[],this.contentLength=0,this.offsets=[],this.objectNumber=0,this.outToContent("%PDF-"+t),this.putPages(),this.putResources(),this.putInfo(),this.putCatalog();var e=this.contentLength;this.outToContent("xref"),this.outToContent("0 "+(this.objectNumber+1)),this.outToContent("0000000000 65535 f ");for(var n=0;n<this.objectNumber;n++)this.outToContent(pdfJS.utils.padd10(this.offsets[n])+" 00000 n ");return this.outToContent("trailer"),this.outToContent("<<"),this.putTrailer(),this.outToContent(">>"),this.outToContent("startxref"),this.outToContent(e),this.outToContent("%%EOF"),console.log(this.docContent.join("\n")),this.docContent.join("\n")},pdfJS.doc.prototype.output=function(e,t){var n;switch(e){case n:return this.buildDocument();case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(this.buildDocument());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(this.buildDocument());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(this.buildDocument()));break;default:throw new Error('Output type "'+e+'" is not supported.')}}})(jQuery),function(e){pdfJS.doc.prototype.putCatalog=function(){this.offsets[this.objectNumber]=this.contentLength,this.outToContent(this.objectNumber+" 0 obj"),this.outToContent("<<"),this.outToContent("/Type /Catalog"),this.outToContent("/Pages 1 0 R"),this.outToContent("/OpenAction [3 0 R /FitH null]"),this.outToContent("/PageLayout /OneColumn"),this.outToContent(">>"),this.outToContent("endobj")}}(),function(e){pdfJS.doc.prototype.addFont=function(e,t,n,r){var i="F"+(pdfJS.utils.getObjectLength(this.fonts)+1).toString(10),s=this.fonts[i]={id:i,PostScriptName:e,fontName:t,fontStyle:n,encoding:r,metadata:{}};return this.addToFontDictionary(i,t,n),i},pdfJS.doc.prototype.addToFontDictionary=function(e,t,n){var r;this.fontmap[t]===r&&(this.fontmap[t]={}),this.fontmap[t][n]=e},pdfJS.doc.prototype.addFonts=function(){var e="helvetica",t="times",n="courier",r="normal",i="bold",s="italic",o="bolditalic",u="StandardEncoding",a=[["Helvetica",e,r],["Helvetica-Bold",e,i],["Helvetica-Oblique",e,s],["Helvetica-BoldOblique",e,o],["Courier",n,r],["Courier-Bold",n,i],["Courier-Oblique",n,s],["Courier-BoldOblique",n,o],["Times-Roman",t,r],["Times-Bold",t,i],["Times-Italic",t,s],["Times-BoldItalic",t,o]],f,l,c,h;for(f=0,l=a.length;f<l;f++)c=this.addFont(a[f][0],a[f][1],a[f][2],u),h=a[f][0].split("-"),this.addToFontDictionary(c,h[0],h[1]||"")},pdfJS.doc.prototype.getFont=function(e,t){var n,r;e===r&&(e=this.fonts[activeFontKey].fontName),t===r&&(t=this.fonts[activeFontKey].fontStyle);try{n=this.fontmap[e][t]}catch(i){n=r}if(!n)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return n},pdfJS.doc.prototype.putFonts=function(){for(var e in this.fonts)this.fonts.hasOwnProperty(e)&&this.putFont(this.fonts[e])},pdfJS.doc.prototype.putFont=function(e){e.objectNumber=this.newObj(),this.outToContent("<</BaseFont/"+e.PostScriptName+"/Type/Font"),typeof e.encoding=="string"&&this.outToContent("/Encoding/"+e.encoding),this.outToContent("/Subtype/Type1>>"),this.outToContent("endobj")}}(jQuery),function(e){pdfJS.doc.prototype.putInfo=function(){this.offsets[this.objectNumber]=this.contentLength,this.outToContent(this.objectNumber+" 0 obj"),this.outToContent("<<"),this.outToContent("/Producer (PDFjs "+PDFJS_VERSION+")"),this.documentProperties.title&&this.outToContent("/Title ("+pdfJS.pdfEscape(this.documentProperties.title)+")"),this.documentProperties.subject&&this.outToContent("/Subject ("+pdfJS.pdfEscape(this.documentProperties.subject)+")"),this.documentProperties.author&&this.outToContent("/Author ("+pdfJS.pdfEscape(this.documentProperties.author)+")"),this.documentProperties.keywords&&this.outToContent("/Keywords ("+pdfJS.pdfEscape(this.documentProperties.keywords)+")"),this.documentProperties.creator&&this.outToContent("/Creator ("+pdfJS.pdfEscape(this.documentProperties.creator)+")");var e=new Date;this.outToContent("/CreationDate (D:"+[e.getFullYear(),pdfJS.utils.padd2(e.getMonth()+1),pdfJS.utils.padd2(e.getDate()),pdfJS.utils.padd2(e.getHours()),pdfJS.utils.padd2(e.getMinutes()),pdfJS.utils.padd2(e.getSeconds())].join("")+")"),this.outToContent(">>"),this.outToContent("endobj"),this.objectNumber++}}(jQuery),function(e){pdfJS.doc.prototype.putPages=function(){var e,t,n;for(e=0,t=this.pages.length;e<t;e++)this.offsets[this.objectNumber]=this.contentLength,this.outToContent(this.objectNumber+" 0 obj"),this.objectNumber++,this.outToContent("<</Type /Page"),this.outToContent("/Parent 1 0 R"),this.outToContent("/Resources 2 0 R"),this.outToContent("/Contents "+(this.objectNumber+1)+" 0 R>>"),this.outToContent("endobj"),n=this.pages[e].join("\n"),this.offsets[this.objectNumber]=this.contentLength,this.outToContent(this.objectNumber+" 0 obj"),this.objectNumber++,this.outToContent("<</Length "+n.length+">>"),this.outToContent("stream"),this.outToContent(n),this.outToContent("endstream"),this.outToContent("endobj");this.outToContent("1 0 obj"),this.outToContent("<</Type /Pages");var r="/Kids [";for(e=0,t=this.pages.length;e<t;e++)r+=3+2*e+" 0 R ";this.outToContent(r+"]"),this.outToContent("/Count "+this.pages.length),this.outToContent("/MediaBox [0 0 "+pdfJS.utils.f2(this.settings.dimensions[0])+" "+pdfJS.utils.f2(this.settings.dimensions[1])+"]"),this.outToContent(">>"),this.outToContent("endobj")}}(jQuery),function(e){pdfJS.doc.prototype.putResourceDictionary=function(){this.outToContent("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),this.outToContent("/Font <<");for(var e in this.fonts)this.fonts.hasOwnProperty(e)&&this.outToContent("/"+e+" "+this.fonts[e].objectNumber+" 0 R");this.outToContent(">>"),this.outToContent("/XObject <<"),this.outToContent(">>")},pdfJS.doc.prototype.putResources=function(){this.putFonts(),this.offsets[this.objectNumber]=this.contentLength,this.outToContent("2 0 obj"),this.outToContent("<<"),this.putResourceDictionary(),this.outToContent(">>"),this.outToContent("endobj")}}(),function(e){pdfJS.doc.prototype.putTrailer=function(){this.outToContent("/Size "+(this.objectNumber+1)),this.outToContent("/Root "+this.objectNumber+" 0 R"),this.outToContent("/Info "+(this.objectNumber-1)+" 0 R")}}(jQuery),function(e){typeof btoa=="undefined"&&(window.btoa=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=t.split(""),r,i,s,o,u,a,f,l,c=0,h=0,p="",d=[];do r=e.charCodeAt(c++),i=e.charCodeAt(c++),s=e.charCodeAt(c++),l=r<<16|i<<8|s,o=l>>18&63,u=l>>12&63,a=l>>6&63,f=l&63,d[h++]=n[o]+n[u]+n[a]+n[f];while(c<e.length);p=d.join("");var v=e.length%3;return(v?p.slice(0,v-3):p)+"===".slice(v||3)}),typeof atob=="undefined"&&(window.atob=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,r,i,s,o,u,a,f,l=0,c=0,h="",p=[];if(!e)return e;e+="";do s=t.indexOf(e.charAt(l++)),o=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),f=s<<18|o<<12|u<<6|a,n=f>>16&255,r=f>>8&255,i=f&255,u==64?p[c++]=String.fromCharCode(n):a==64?p[c++]=String.fromCharCode(n,r):p[c++]=String.fromCharCode(n,r,i);while(l<e.length);return h=p.join(""),h}),pdfJS.to8bitStream=function(e,t){var n,r,i;t===i&&(t={});var s=t.sourceEncoding?s:"Unicode",o,u=t.outputEncoding,a,f,l,c;if((t.autoencode||u)&&fonts[activeFontKey].metadata&&fonts[activeFontKey].metadata[s]&&fonts[activeFontKey].metadata[s].encoding){o=fonts[activeFontKey].metadata[s].encoding,!u&&fonts[activeFontKey].encoding&&(u=fonts[activeFontKey].encoding),!u&&o.codePages&&(u=o.codePages[0]),typeof u=="string"&&(u=o[u]);if(u){f=!1,a=[];for(n=0,r=e.length;n<r;n++)l=u[e.charCodeAt(n)],l?a.push(String.fromCharCode(l)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(f=!0);e=a.join("")}}n=e.length;while(f===i&&n!==0)e.charCodeAt(n-1)>>8&&(f=!0),n--;if(!f)return e;a=t.noBOM?[]:[254,255];for(n=0,r=e.length;n<r;n++){l=e.charCodeAt(n),c=l>>8;if(c>>8)throw new Error("Character at position "+n.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(l-(c<<8))}return String.fromCharCode.apply(i,a)},pdfJS.pdfEscape=function(e,t){return to8bitStream(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pdfJS.utils={f2:function(e){return e.toFixed(2)},f3:function(e){return e.toFixed(3)},padd2:function(e){var t=e.toFixed(0);return e<10?"0"+t:t},padd10:function(e){var t=e.toFixed(0);return t.length<10?(new Array(11-t.length)).join("0")+t:t},getObjectLength:typeof Object.keys=="function"?function(e){return Object.keys(e).length}:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}}}(jQuery);