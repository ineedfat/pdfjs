(function(t){"use strict";var e="0.0.1";Object.create||(Object.create=function(t){function e(){}if(arguments.length>1)throw Error("Object.create implementation only accepts the first parameter.");return e.prototype=t,new e});var n=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.prototype[n]=e[n])},o={translate:function(t,e){this.content.push("1 0 0 1 "+t+" "+e+" cm")},scale:function(t,e){this.content.push(t+" 0 0 "+e+" 0 0 cm")},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);this.content.push(e+" "+n+" -"+n+" "+e+" 0 0 cm")},skew:function(t,e){this.content.push("1 "+Math.tan(t)+" "+Math.tan(e)+" 1 0 0 cm")},lineWidth:function(t){this.content.push(t+" w")},lineCap:function(t){this.content.push(t+" J")},lineJoin:function(t){this.content.push(t+" j")},miterLimit:function(t){this.content.push(t+" M")},dashPattern:function(t,e){this.content.push(t+" "+e+" d")},renderingIntent:function(t){this.content.push(t+" ri")},strokeAdjustment:function(){},pushState:function(){this.content.push("q")},popState:function(){this.content.push("Q")},moveTo:function(){if(4!=arguments.length)throw"Invalid new path parameters";var t=Array.prototype.slice.call(arguments);this.content.push(t.join(" ")+" m")},lineTo:function(){if(4!=arguments.length)throw"Invalid straight line  parameters";var t=Array.prototype.slice.call(arguments);this.content.push(t.join(" ")+" l")},bezierCurve:function(){var t=Array.prototype.slice.call(arguments);switch(arguments.length){case 4:this.content.push(t.join(" ")+" v");break;case 5:this.content.push(t.slice(0,4).join(" ")+" y");break;case 6:this.content.push(t.join(" ")+" c");break;default:throw"Invalid bezier curve parameters"}},close:function(){this.content.push("h")},paintPath:function(t){t?this.content.push(t):this.content.push("B")},strokePath:function(){this.content.push("S")},fillPath:function(){this.content.push("F")},clip:function(t){this.content.push("W"+(t?" *":""))},rect:function(){if(4!=arguments.length)throw"Invalid rectangle parameters";var t=Array.prototype.slice.call(arguments);this.content.push(t.join(" ")+" re")},fillColor:function(){switch(arguments.length){case 1:"DeviceGray"!==this.activeFillCS&&(this.content.push("/DeviceGray cs"),this.activeFillCS="DeviceGray");break;case 3:"DeviceRGB"!==this.activeFillCS&&(this.content.push("/DeviceRGB cs"),this.activeFillCS="DeviceRGB");break;default:throw"Invalid color values"}var t=Array.prototype.slice.call(arguments);this.content.push(t.join(" ")+" sc")},strokeColor:function(){switch(arguments.length){case 1:"DeviceGray"!==this.activeStrokeCS&&(this.content.push("/DeviceGray CS"),this.activeStrokeCS="DeviceGray");break;case 3:"DeviceRGB"!==this.activeStrokeCS&&(this.content.push("/DeviceRGB CS"),this.activeStrokeCS="DeviceRGB");default:throw"Invalid color values"}var t=Array.prototype.slice.call(arguments);this.content.push(t.join(" ")+" SC")},addImage:function(t,e,n,o,i){return o||i||(o=-96,i=-96),0>o&&(o=72*-1*t.width/o),0>i&&(i=72*-1*t.height/i),0===o&&(o=i*t.width/t.height),0===i&&(i=o*t.height/t.width),this.content.push("q"),this.content.push(o.toFixed(2)+" 0 0 "+i.toFixed(2)+" "+e.toFixed(2)+" "+(n+i).toFixed(2)+" cm"),this.content.push("/"+t.name+" Do"),this.content.push("Q"),this}},i={beginText:function(t,e,n){this.content.push("BT"),this.fontStyle(t,e,n)},endText:function(){this.content.push("ET"),this.activeFont=void 0},textPosition:function(t,e){this.content.push(t+" "+e+" Td")},charSpace:function(t){this.content.push(t+" Tc")},wordSpace:function(t){this.content.push(t+" Tw")},scaleText:function(t){this.content.push(t+" Tz")},leading:function(t){this.content.push(t+" TL")},fontSize:function(t){this.content.push("/"+this.activeFont.description.key+" "+t+" Tf"),this.activeFontSize=t},fontStyle:function(t,e,n){this.activeFont=this.doc.resObj.getFont(t,e)||this.doc.resObj.fontObjs[0];var o=this.activeFont.description.key;this.content.push("/"+o+" "+(n||this.activeFontSize)+" Tf"),n&&(this.activeFontSize=n)},renderMode:function(){this.content.push(render+" Tr")},rise:function(t){this.content.push(t+" Ts")},print:function(t,e,n){1===arguments.length?this.content.push("("+this.activeFont.charactersEncode(k(t))+") Tj"):this.content.push(e+" "+n+" ("+this.activeFont.charactersEncode(k(t))+') "')},println:function(t){this.content.push("T*"),t&&this.print(t)},showArrayText:function(t){var e;for(e=0,len=t.length;len>I;e++)temp=t[e],"string"==typeof temp&&(t[e]="("+temp+")");this.content.push(t.join(" ")+" TJ")}},r=function(t,e){this.objectNumber=t,this.generationNumber=e,this.body=[]};r.prototype={out:function(){var t=[];return t.push(this.objectNumber+" "+this.generationNumber+" obj"),t=t.concat(this.body),t.push("endobj"),t.join("\n")},body:[],objectNumber:0,generationNumber:0};var s=function(t,e,n,o,i,s){r.call(this,n,o),this.pageOptions=e,this.parent=t,this.contentStreams=i,this.currentStream=this.contentStreams[0],this.repeatableStreams=s};s.prototype=Object.create(r.prototype,{out:{value:function(){var t,e,n=[];if(this.body.push("<< /Type /Page"),this.body.push(S(this.pageOptions)),this.body.push("/Parent "+this.parent.objectNumber+" "+this.parent.generationNumber+" R"),this.body.push("/Contents "),this.contentStreams.length){for(this.body.push("["),t=0;e=this.contentStreams[t];t++)this.body.push(e.objectNumber+" "+e.generationNumber+" R");for(t=0;e=this.repeatableStreams[t];t++)this.body.push(e.objectNumber+" "+e.generationNumber+" R");this.body.push("]")}if(this.body.push(">>"),n.push(r.prototype.out.apply(this,arguments)),this.contentStreams.length)for(t=0;e=this.contentStreams[t];t++)n.push(e.out());return n.join("\n")}},setStream:{value:function(t){if(t>=this.contentStreams.length)throw"Invalid stream index";return this.currentStream=this.contentStreams[t],this}}});var a=function(t,e,n,o){r.call(this,e,n),this.parent=t,this.kids=[],this.options=o};a.prototype=Object.create(r.prototype,{out:{value:function(){var t,e;for(this.body.push("<< /Type /Pages",O(this.options),"/Kids ["),t=0;e=this.kids[t];t++)this.body.push(e.objectNumber+" "+e.generationNumber+" R");return this.body.push("]"),this.body.push("/Count "+c(this)),this.parent&&this.body.push("/Parent "+this.parent.objectNumber+" "+this.parent.generationNumber+" R"),this.body.push(">>"),r.prototype.out.apply(this,arguments)}}});var c=function(t){var e,n,o=0;for(e=0;n=t.kids[e];e++)n instanceof s?o++:o+=c(n);return o},h=function(t,e,n){r.call(this,t,e),this.content=[],this.dictionary={},this.doc=n,this.activeFont=void 0,this.activeFontSize=14,this.activeFillCS=void 0,this.activeStrokeCS=void 0},u=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push("/"+e+" "+t[e]);return n.join("\n")};h.prototype=Object.create(r.prototype,{out:{value:function(){var t=u(this.dictionary);return this.body.push("<< /Length "+this.content.join("\n").length),t&&this.body.push(t),this.body.push(">>"),this.body.push("stream"),this.body.push("q"),this.body=this.body.concat(this.content),this.body.push("Q"),this.body.push("endstream"),r.prototype.out.apply(this,arguments)}},push:{value:function(){return Array.prototype.push.apply(this.content,arguments),this}}}),n(h,i),n(h,o);var p=function(t,e,n){r.call(this,e,n),this.description=t};p.codePages={WinAnsiEncoding:{338:140,339:156,352:138,353:154,376:159,381:142,382:158,402:131,710:136,732:152,8211:150,8212:151,8216:145,8217:146,8218:130,8220:147,8221:148,8222:132,8224:134,8225:135,8226:149,8230:133,8240:137,8249:139,8250:155,8364:128,8482:153}},p.prototype=Object.create(r.prototype,{out:{value:function(){return this.body.push("<< /Type /Font"),this.body.push("/Subtype /Type1"),this.body.push("/BaseFont /"+this.description.postScriptName),"string"==typeof this.description.encoding&&this.body.push("/Encoding /"+this.description.encoding),this.body.push(">>"),r.prototype.out.apply(this,arguments)}},charactersEncode:{value:function(t){var e,n,o,i,r,s,a=[],c=this.description.encoding;if("string"==typeof c&&(c=p.codePages[c]),!c)return t;for(e=0,n=t.length;n>e;e++)o=t.charCodeAt(e),o>>8&&(i=!0),o=c[o],o?a.push(String.fromCharCode(o)):a.push(t[e]);if(i){var h=[];for(e=0,n=a.length;n>e;e++){if(o=text.charCodeAt(e),r=o>>8,s=o-r,r>>8)throw"Character exceeds 16bits: "+text[e];h.push(r,s)}return String.fromCharCode.apply(null,h)}return a.join("")}}});var d=function(t,e,n,o,i,r,s,a){h.call(this,t,e),this.width=n,this.height=o,this.colorSpace=i||T.deviceRGB,this.bpc=r||8,this.filter=s,this.name="Im1",this.options=a||{}};d.prototype=Object.create(h.prototype,{out:{value:function(){return this.dictionary.Type="/XObject",this.dictionary.Subtype="/Image",this.dictionary.Width=this.width,this.dictionary.Height=this.height,this.dictionary.ColorSpace="/"+this.colorSpace,this.dictionary.BitsPerComponent=this.bpc,this.filter&&(this.dictionary.Filter="/"+this.filter),h.prototype.out.apply(this,arguments)}}});var l="1.3",b=function(t,e){var n=this;if(this.pageCount=0,this.repeatableElements=[],this.activeAsync=0,this.objectNumber=0,this.currentPage=null,this.settings={dimension:T.paperFormat.letter,documentProperties:{title:"",subject:"",author:"",keywords:"",creator:""}},n.settings.dimension="string"==typeof t?T.paperFormat[t.toLowerCase()]:t.slice().splice(0,2),"landscape"===e.toLowerCase()){var o=n.settings.dimension[0];n.settings.dimension[0]=n.settings.dimension[1],n.settings.dimension[1]=o}this.resObj=new w(++this.objectNumber,0),this.rootNode=new a(null,++n.objectNumber,0,{mediabox:[0,0,this.settings.dimension[0],this.settings.dimension[1]],resources:this.resObj}),this.currentNode=this.rootNode,this.infoObj=j(this.settings,this.newObj()),this.catalogObj=v(this.rootNode,this.newObj()),this.addStandardFonts()};b.prototype={objNumber:function(t){return t&&(this.objectNumber=value),t},page:function(t){return t&&(this.objectNumber=value),t},newObj:function(){return new r(++this.objectNumber,0)},newStream:function(){return new h(++this.objectNumber,0,this)},addPage:function(t,e,n){return this.pageCount++,this.currentPage=new s(this.currentNode,n||{mediabox:[0,0,e||this.settings.dimension[0],t||this.settings.dimension[1]]},++this.objectNumber,0,[this.newStream()],this.repeatableElements),this.currentNode.kids.push(this.currentPage),this.currentPage},output:function(t){var e=A([m(this.rootNode),g(this.resObj.fontObjs),g(this.resObj.imageXObjects),g(this.repeatableElements),this.resObj.out(),this.infoObj.out(),this.catalogObj.out()]).join("\n"),n=y(e,this.catalogObj,this.infoObj);switch(t){case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(n);case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(n);break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(n));break;default:return n}},outputAsync:function(t,e){var n=this,o=window.setInterval(function(){0===n.activeAsync&&(window.clearInterval(o),e(n.output(t)))},50)},addFont:function(t,e,n,o){var i="F"+(this.resObj.fontObjs.length+1).toString(10),r={key:i,postScriptName:t,fontName:e,fontStyle:n,encoding:o,metadata:{}};return this.resObj.fontObjs.push(new p(r,++this.objectNumber,0)),i},addStandardFonts:function(){for(var t="helvetica",e="times",n="courier",o="normal",i="bold",r="italic",s="bolditalic",a="StandardEncoding",c=[["Helvetica",t,o],["Helvetica-Bold",t,i],["Helvetica-Oblique",t,r],["Helvetica-BoldOblique",t,s],["Courier",n,o],["Courier-Bold",n,i],["Courier-Oblique",n,r],["Courier-BoldOblique",n,s],["Times-Roman",e,o],["Times-Bold",e,i],["Times-Italic",e,r],["Times-BoldItalic",e,s],["Symbol","symbol",o],["ZapfDingbats","zapfdingbats",o]],h=0,u=c.length;u>h;h++)this.addFont(c[h][0],c[h][1],c[h][2],a);return this},addRepeatableElement:function(){var t=this.newStream();return this.repeatableElements.push(t),t},addRepeatableTemplate:function(){}};var f=function(t){if("string"!=typeof t)throw"getOffsets expects a string input";var e,n,o,i,r=[],s=/\d+(?=\sobj)/,a=/^\d+/;for(e=t.match(/\d+\s\d+\sobj/gim),n=0;o=e[n];n++)i=RegExp("[^\\d]"+o.replace(/\s+/g,"\\s+")),r.push({objNum:parseInt(a.exec(o)),genNum:parseInt(s.exec(o)),offset:t.search(i)});return r},m=function(t){var e,n,o=[t.out()];for(e=0;n=t.kids[e];e++)n instanceof a?o.push(m(n)):o.push(n.out());return o.join("\n")},g=function(t){var e,n,o=[];for(e=0;n=t[e];e++)o.push(n.out());return o.join("\n")},y=function(t,e,n){var o,i=["%PDF-"+l,t],r=i.join("\n"),s=r.length,a=f(r),c=a.length;for(a=a.sort(function(t,e){return t.objNum-e.objNum}),i.push("xref"),i.push("0 "+(c+1)),i.push("0000000000 65535 f "),o=0;c>o;o++)i.push(P(a[o].offset)+" 00000 n ");return i.push("trailer"),i.push("<<"),i.push("/Size "+(c+1)),i.push("/Root "+e.objectNumber+" 0 R"),i.push("/Info "+n.objectNumber+" 0 R"),i.push(">>"),i.push("startxref"),i.push(s),i.push("%%EOF"),i.join("\n")},v=function(t,e){return e.body=[],e.body.push("<<"),e.body.push("/Type /Catalog"),e.body.push("/Pages "+t.objectNumber+" "+t.generationNumber+" R"),e.body.push("/PageLayout /OneColumn"),e.body.push(">>"),e},j=function(t,n){n.body=[],n.body.push("<<"),n.body.push("/Producer (PDFjs "+e+")"),t.documentProperties.title&&n.body.push("/Title ("+pdfEscape(t.documentProperties.title)+")"),t.documentProperties.subject&&n.body.push("/Subject ("+pdfEscape(t.documentProperties.subject)+")"),t.documentProperties.author&&n.body.push("/Author ("+pdfEscape(t.documentProperties.author)+")"),t.documentProperties.keywords&&n.body.push("/Keywords ("+pdfEscape(t.documentProperties.keywords)+")"),t.documentProperties.creator&&n.body.push("/Creator ("+pdfEscape(t.documentProperties.creator)+")");var o=new Date;return n.body.push("/CreationDate (D:"+[o.getFullYear(),F(o.getMonth()+1),F(o.getDate()),F(o.getHours()),F(o.getMinutes()),F(o.getSeconds())].join("")+")"),n.body.push(">>"),n},w=function(t,e){r.call(this,t,e),this.fontObjs=[],this.imageXObjects=[]},C=function(t,e){var n,o,i=[];for(n=0,o=t.length;o>n;n++)i.push("/"+e+(n+1).toString(10)+" "+t[n].objectNumber+" "+t[n].generationNumber+" R");return i.join("\n")};w.prototype=Object.create(r.prototype,{out:{value:function(){this.body.push("<<"),this.body.push("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),this.body.push("/Font <<"),this.body.push(C(this.fontObjs,"F")),this.body.push(">>");var t=C(this.imageXObjects,"Im");return t&&(this.body.push("/XObject <<"),this.body.push(t),this.body.push(">>")),this.body.push(">>"),r.prototype.out.apply(this,arguments)}},getFont:{value:function(t,e){if("string"==typeof t)for(var n,o=0;n=this.fontObjs[o];o++){if(n.description.key.toLowerCase()===t.toLowerCase())return n;if("string"==typeof e&&n.description.fontName.toLowerCase()===t.toLowerCase()&&n.description.fontStyle.toLowerCase()===e.toLowerCase())return n}return void 0}}});var S=function(t){var e,n=[];for(var o in t)if(t.hasOwnProperty(o))switch(e=t[o],o.toLowerCase()){case"resources":if(e instanceof w)n.push("/Resources "+e.objectNumber+" "+e.generationNumber+" R");else{if("string"!=typeof e)throw"Invalid Resources!";n.push(e)}break;case"mediabox":x(e)&&n.push("/MediaBox ["+e.join(" ")+"]");break;case"cropbox":x(e)&&n.push("/CropBox ["+e.join(" ")+"]");break;case"bleedbox":x(e)&&n.push("/BleedBox ["+e.join(" ")+"]");break;case"trimbox":x(e)&&n.push("/TrimBox ["+e.join(" ")+"]");break;case"artbox":x(e)&&n.push("/ArtBox ["+e.join(" ")+"]");break;case"rotate":"number"==typeof e&&0===e%90&&n.push("/Rotate "+e);break;case"thumb":break;case"b":break;case"dur":break;case"Trans":break;case"Annots":break;case"AA":break;case"PieceInfo":break;case"LastModified":break;case"StructParents":break;case"ID":break;case"PZ":break;case"SeparationInfo":}return n.join("\n")},O=function(t){var e,n=[];for(var o in t)if(t.hasOwnProperty(o))switch(e=t[o],o.toLowerCase()){case"resources":if(e instanceof w)n.push("/Resources "+e.objectNumber+" "+e.generationNumber+" R");else{if("string"!=typeof e)throw"Invalid Resources!";n.push(e)}break;case"mediabox":x(e)&&n.push("/MediaBox ["+e.join(" ")+"]");break;case"cropbox":x(e)&&n.push("/CropBox ["+e.join(" ")+"]");break;case"rotate":"number"==typeof e&&0===e%90&&n.push("/Rotate "+e)}return n.join("\n")},N=/((\(|\)|\\))/gi,k=function(t){return t.replace(N,"\\$1")},A=function(t){var e,n,o,i=[];for(e=0,n=t.length;n>e;e++)t[e]||i.push(e);for(e=0,n=i.length;n>e;e++)o=i[e],t.splice(o,1);return t},x=function(t){if(!t||"object"!=typeof t||4!==t.length)return console.warn("Invalid Rect"),!1;for(var e=0;4>e;e++)if("number"!=typeof t[e])return console.warn("Invalid Rect"),!1;return!0},F=function(t){var e=t.toFixed(0);return 10>t?"0"+e:e},P=function(t){var e=t.toFixed(0);return 10>e.length?Array(11-e.length).join("0")+e:e},T={paperFormat:{a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},lineCapStyle:{buttCap:0,roundCap:1,projectinSquareCap:2},lineJoinStyle:{miterJoin:0,roundJoin:1,bevelJoin:2},renderingIntentOption:{absoluteColorimetric:"AbsoluteColorimetric",relativeColorimetric:"RelativeColorimetric",saturation:"Saturation",perceptual:"Perceptual"},pathPaintingOption:{bigS:"S",smallS:"s",smallF:"f",fStar:"f*",bigB:"B",bigBStar:"B*",smallB:"b",smallBStar:"b*",n:"n"},colorSpace:{deviceGray:"DeviceGray",deviceRGB:"DeviceRGB",deviceCMYK:"DeviceCMYK"},textMode:{fillText:0,strokeText:1,fillStrokeText:2,invisibleText:3,fillClipText:4,strokeClipText:5,fillStrokeClipText:6,clipText:7}};b.prototype.newImage=function(t,e,n){var o=new d(++this.objectNumber,0,0,0,T.colorSpace.deviceRGB,8,"DCTDecode");return R.call(this,t,o,n||this.resObj,e,this),o};var R=function(t){if(t instanceof HTMLImageElement)D.apply(this,[t].concat(Array.prototype.slice.call(arguments,1,3)));else if("string"==typeof t)B.apply(this,[t].concat(Array.prototype.slice.call(arguments,1)));else{if(!(t instanceof HTMLCanvasElement))throw"Invalid Image Type";E.apply(this,[t].concat(Array.prototype.slice.call(arguments,1,3)))}},B=function(t,e,n,o,i){var r=new Image;r.onload=function(){i.activeAsync--,D.call(this,r,e,n)},o&&(r.crossOrigin="anonymous"),i.activeAsync++,r.src=t},D=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");if(!n)throw"addImage requires canvas to be supported by browser.";n.drawImage(t,0,0,e.width,e.height),E.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))},E=function(t,e,n){var o=t.toDataURL("image/jpeg"),i=G(o,"jpeg");e.content.push(i.data),e.name="Im"+(n.imageXObjects.length+1),e.width=i.width,e.height=i.height,n.imageXObjects.push(e)},G=function(t,e){var n,o={width:0,height:0,data:""};e=e.toLowerCase(),"data:image/jpeg;base64,"===t.substring(0,23)&&(t=atob(t.replace("data:image/jpeg;base64,","")),e="jpeg");try{"jpeg"!=e&&e||(n=L(t),o.width=n[0],o.height=n[1])}catch(i){console.log("Image is not JPEG")}return o.data=t,o},L=function(t){var e,n;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw Error("getJpegSize requires a binary jpeg file");for(var o=256*t.charCodeAt(4)+t.charCodeAt(5),i=4,r=t.length;r>i;){if(i+=o,255!==t.charCodeAt(i))throw Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(i+1))return n=256*t.charCodeAt(i+5)+t.charCodeAt(i+6),e=256*t.charCodeAt(i+7)+t.charCodeAt(i+8),[e,n];i+=2,o=256*t.charCodeAt(i)+t.charCodeAt(i+1)}},M={doc:function(t,e,n){var o=new b(t,e,n);return{objNum:function(){o.objNumber.apply(o,arguments)},currentPage:function(){return o.page.apply(o,arguments)},createObj:function(){return o.newObj.apply(o,arguments)},createStream:function(){return o.newStream.apply(o,arguments)},addPage:function(){return o.addPage.apply(o,arguments)},addRepeatableElement:function(){return o.addRepeatableElement.apply(o,arguments)},root:function(){return o.rootNode.apply(o,arguments)},output:function(){return o.output.apply(o,arguments)},outputAsync:function(){return o.outputAsync.apply(o,arguments)},addFont:function(){return o.addFont.apply(o,arguments)},newImage:function(){return o.newImage.apply(o,arguments)}}},obj:r,pageTreeNode:a,utils:T};t.pdfJS=M})(window);